<div class="modal fade show d-block" id="editCallSourceModal" tabindex="-1" aria-labelledby="editCallSourceModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editCallSourceModalLabel">Chỉnh sửa nguồn gọi</h5>
                <button type="button" class="btn-close" onclick="closeModal()"></button>
            </div>
            <div class="modal-body">
                <form hx-post="{% url 'callsources:updatecallsource' callsource.id %}"
                      hx-target="#callsource-list"
                      hx-swap="innerHTML"
                      hx-on:htmx:afterRequest="closeModal()">
                    {% csrf_token %}

                    <div class="mb-3">
                        <label for="name_call_source" class="form-label">Tên nguồn gọi</label>
                        <input type="text" class="form-control" id="name_call_source" name="name_call_source" value="{{ callsource.name_call_source }}">
                    </div>

                    <div class="mb-3">
                        <label for="note" class="form-label">Ghi chú</label>
                        <textarea class="form-control" id="note" name="note" rows="3">{{ callsource.note }}</textarea>
                    </div>

                    <div class="mb-3">
                        <label for="category" class="form-label">Loại nguồn gọi</label>
                        <select class="form-control" id="category" name="category">
                            {% for value, label in callsource.CATEGORY_CHOICES %}
                                <option value="{{ value }}" {% if callsource.category == value %}selected{% endif %}>{{ label }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary">Lưu</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">Đóng</button>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    document.body.addEventListener("closeModal", function () {
        closeModal();
    });

    function closeModal() {
        document.getElementById("modal-container").innerHTML = "";
    }
</script>